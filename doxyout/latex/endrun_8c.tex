\hypertarget{endrun_8c}{
\section{endrun.c File Reference}
\label{endrun_8c}\index{endrun.c@{endrun.c}}
}


Termination of simulation.  


{\ttfamily \#include $<$stdio.h$>$}\par
{\ttfamily \#include $<$stdlib.h$>$}\par
{\ttfamily \#include $<$string.h$>$}\par
{\ttfamily \#include $<$math.h$>$}\par
{\ttfamily \#include $<$mpi.h$>$}\par
{\ttfamily \#include $<$signal.h$>$}\par
{\ttfamily \#include $<$unistd.h$>$}\par
{\ttfamily \#include \char`\"{}allvars.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}proto.h\char`\"{}}\par
Include dependency graph for endrun.c:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{endrun_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{endrun_8c_a6c7c5d488c8a9e1fb9c408ae00aa8839}{endrun} (int ierr)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Termination of simulation. This file contains routines for termination of the simulation. 

Definition in file \hyperlink{endrun_8c_source}{endrun.c}.



\subsection{Function Documentation}
\hypertarget{endrun_8c_a6c7c5d488c8a9e1fb9c408ae00aa8839}{
\index{endrun.c@{endrun.c}!endrun@{endrun}}
\index{endrun@{endrun}!endrun.c@{endrun.c}}
\subsubsection[{endrun}]{\setlength{\rightskip}{0pt plus 5cm}void endrun (
\begin{DoxyParamCaption}
\item[{int}]{ ierr}
\end{DoxyParamCaption}
)}}
\label{endrun_8c_a6c7c5d488c8a9e1fb9c408ae00aa8839}
This function aborts the simulations. If a single processors wants an immediate termination, the function needs to be called with ierr$>$0. A bunch of MPI-\/error messages may also appear in this case. For ierr=0, MPI is gracefully cleaned up, but this requires that all processors call \hyperlink{endrun_8c_a6c7c5d488c8a9e1fb9c408ae00aa8839}{endrun()}. 

Definition at line 25 of file endrun.c.



References terminate\_\-processes(), and ThisTask.



Referenced by allocate\_\-commbuffers(), allocate\_\-memory(), check\_\-omega(), compute\_\-potential(), density(), domain\_\-decompose(), domain\_\-exchangeParticles(), domain\_\-topsplit(), domain\_\-topsplit\_\-local(), find\_\-files(), find\_\-next\_\-outputtime(), force\_\-create\_\-empty\_\-nodes(), force\_\-insert\_\-pseudo\_\-particles(), force\_\-treeallocate(), force\_\-treebuild\_\-single(), force\_\-treeevaluate(), force\_\-treeevaluate\_\-potential(), force\_\-treeevaluate\_\-potential\_\-shortrange(), force\_\-treeevaluate\_\-shortrange(), get\_\-particles\_\-in\_\-block(), get\_\-timestep(), gravity\_\-forcetest(), init(), long\_\-range\_\-force(), main(), my\_\-fread(), my\_\-fwrite(), ngb\_\-treeallocate(), open\_\-outputfiles(), pm\_\-init\_\-periodic\_\-allocate(), read\_\-file(), read\_\-parameter\_\-file(), readjust\_\-timebase(), restart(), savepositions(), and write\_\-file().




\begin{DoxyCode}
{
  if(ierr)
    {
      printf("task %d: endrun called with an error level of %d\n\n\n", ThisTask, 
      ierr);
      fflush(stdout);
#ifdef DEBUG
      terminate_processes();
      raise(SIGABRT);
      sleep(60);
#else
      MPI_Abort(MPI_COMM_WORLD, ierr);
#endif
      exit(0);
    }

  MPI_Finalize();
  exit(0);
}
\end{DoxyCode}




Here is the call graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=284pt]{endrun_8c_a6c7c5d488c8a9e1fb9c408ae00aa8839_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{endrun_8c_a6c7c5d488c8a9e1fb9c408ae00aa8839_icgraph}
\end{center}
\end{figure}


